(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/MyWalletLogo.699cfead.svg"},33:function(e,t,a){e.exports=a(54)},38:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(20),i=(a(38),a(9)),u=a(2),s=a(16),m=a(7),d=a(8),p=a(11),h=a(10),E=a(13),b=a.n(E),f=a(17),v="https://economia.awesomeapi.com.br/json/all";function g(){return(g=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){return g.apply(this,arguments)};function j(e){return{type:"GET_CURRENCIES",payload:e}}var O=a(29),x=a.n(O),C=(a(44),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target;e.setState(Object(s.a)({},a.name,a.value),(function(){return e.handleButtonValidation()}))},e.handleButtonValidation=function(){var t=e.state,a=t.emailInput,n=t.passwordInput;a.includes("@")&&a.includes(".com")&&n.length>=6?e.setState({isButtonDisabled:!1}):e.setState({isButtonDisabled:!0})},e.handleButton=function(t){t.preventDefault();var a=e.state.emailInput;(0,e.props.submitUserInfo)(a),e.setState({shouldRedirect:!0})},e.state={emailInput:"",passwordInput:"",isButtonDisabled:!0,shouldRedirect:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.emailInput,a=e.passwordInput,n=e.isButtonDisabled;return e.shouldRedirect?r.a.createElement(u.a,{to:"/carteira"}):r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("img",{className:"login__logo",src:x.a,alt:"My Wallet Logo"}),r.a.createElement("h1",{className:"login__title"},"MyWallet"),r.a.createElement("form",{className:"login__form"},r.a.createElement("input",{className:"login__input",type:"email",placeholder:"e-mail",name:"emailInput","data-testid":"email-input",value:t,onChange:this.handleChange}),r.a.createElement("span",{className:"login__input-border"}),r.a.createElement("input",{className:"login__input",type:"password",placeholder:"senha",name:"passwordInput","data-testid":"password-input",value:a,onChange:this.handleChange}),r.a.createElement("span",{className:"login__input-border"}),r.a.createElement("button",{className:"login__submit",type:"submit",disabled:n,onClick:this.handleButton},"Entrar"),r.a.createElement("a",{className:"login__reset",href:"a"},"Esqueci minha senha"))))}}]),a}(r.a.Component)),w=Object(i.b)(null,(function(e){return{submitUserInfo:function(t){return e({type:"LOGIN",payload:t})}}}))(C),N=(a(50),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleDeleteBtn=function(t){var a=t.target,n=e.props,r=n.expenses;(0,n.submitExpensesNewInfo)(r.filter((function(e){return Number(e.id)!==Number(a.value)})))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Excluir"))),r.a.createElement("tbody",null,t&&t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name.replace("/Real Brasileiro","")),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"".concat((Number(t.value)*Number(t.exchangeRates[t.currency].ask)).toFixed(2))),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button",value:t.id,"data-testid":"delete-btn",onClick:e.handleDeleteBtn},"Excluir")))})))))}}]),a}(n.Component)),_=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{submitExpensesNewInfo:function(t){return e({type:"DELETE_EXPENSE",payload:t})}}}))(N),k=(a(51),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses,n=0;return a.forEach((function(e){var t=e.value,a=e.exchangeRates,r=e.currency;n+=Number(t)*Number(a[r].ask)})),r.a.createElement("header",{className:"header-container"},r.a.createElement("h1",null,"MyWallet"),r.a.createElement("span",{"data-testid":"total-field"},"Total: ".concat(n.toFixed(2)," BRL")),r.a.createElement("span",{"data-testid":"email-field"},"Email: ".concat(t)))}}]),a}(n.Component)),I=Object(i.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(k),D=(a(52),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target;e.setState(Object(s.a)({},a.name,a.value))},e.handleButton=function(){var t=Object(f.a)(b.a.mark((function t(a){var n,r,l,c,o,i,u,s,m;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.id,l=n.value,c=n.description,o=n.currency,i=n.method,u=n.tag,s=e.props.submitExpensesInfo,t.next=5,y();case 5:m=t.sent,s({id:r,value:l,description:c,currency:o,method:i,tag:u,exchangeRates:m}),e.setState({id:r+1,value:"",description:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getCurrencies)()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,l=e.method,c=e.tag,o=this.props.currencies;return r.a.createElement("div",null,r.a.createElement("form",{className:"form-container"},r.a.createElement("label",{htmlFor:"currency-input"},"Moeda:",r.a.createElement("select",{name:"currency",id:"currency-input","data-testid":"currency-input",value:n,onChange:this.handleChange},o&&Object.keys(o).filter((function(e){return"USDT"!==e})).map((function(e){return r.a.createElement("option",{key:e,value:e,"data-testid":e},e)})))),r.a.createElement("label",{htmlFor:"method-input"},"M\xe9todo de Pagamento:",r.a.createElement("select",{name:"method",id:"method-input","data-testid":"method-input",value:l,onChange:this.handleChange},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag-input"},"Tag:",r.a.createElement("select",{name:"tag",id:"tag-input","data-testid":"tag-input",value:c,onChange:this.handleChange},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("label",{htmlFor:"value-input"},"Valor:",r.a.createElement("input",{type:"number",name:"value",id:"value-input","data-testid":"value-input",value:t,onChange:this.handleChange}),r.a.createElement("span",{className:"form__input-border"})),r.a.createElement("label",{htmlFor:"description-input"},"Descri\xe7\xe3o:",r.a.createElement("input",{name:"description",id:"description-input","data-testid":"description-input",value:a,onChange:this.handleChange}),r.a.createElement("span",{className:"form__input-border"})),r.a.createElement("button",{className:"form-btn",type:"submit",onClick:this.handleButton},"Adicionar despesa")))}}]),a}(n.Component)),B=Object(i.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{getCurrencies:function(){return e(function(){var e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:return a=e.sent,e.abrupt("return",t(j(a)));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},submitExpensesInfo:function(t){return e({type:"WALLET",payload:t})}}}))(D),R=(a(53),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"form-expenses-container"},r.a.createElement(B,null),r.a.createElement(_,null)))}}]),a}(r.a.Component));var S=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:w}),r.a.createElement(u.b,{exact:!0,path:"/carteira",component:R}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(14),L=a(30),M=a(31),F=a(12),W={email:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(F.a)(Object(F.a)({},e),{},{email:t.payload});default:return e}},U=a(32),V={currencies:[],expenses:[]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCIES":return Object(F.a)(Object(F.a)({},e),{},{currencies:t.payload});case"WALLET":return Object(F.a)(Object(F.a)({},e),{},{expenses:[].concat(Object(U.a)(e.expenses),[t.payload])});case"DELETE_EXPENSE":return Object(F.a)(Object(F.a)({},e),{},{expenses:t.payload});default:return e}},z=Object(T.combineReducers)({user:A,wallet:G}),P=Object(T.createStore)(z,Object(L.composeWithDevTools)(Object(T.applyMiddleware)(M.a)));c.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(o.a,{basename:"/trybewallet"},r.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.e609b7b2.chunk.js.map